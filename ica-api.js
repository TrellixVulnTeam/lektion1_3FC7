var request = require('request');
const fs = require('fs');
var headers = {
    'Authorization': 'Basic MTk3MzAyMDQ3OTEwOjMxNDE1OQ=='
};

var options = {
    url: 'https://handla.api.ica.se/api/login/', //logga in på ICA's site Login creditials is needed
    headers: headers
};

async function callback(error, response, body) {
    if (!error && response.statusCode == 200) {
        console.log(body);
       let data = JSON.stringify(body);
       fs.writeFileSync('./user.json',data);
    }
}

request(options, callback);
var request = require('request');

var headers = {
    'AuthenticationTicket': '5302F76842AA59F999EE6024856E207D077A98508EDEBE8F09BB51C1D8233A4FD5C49F8017100CA9CCC0F2EB3B10E14219F05C4FFA20CE473AD8FC428C1A4FE3DE29E435B9C11C81321CDDE1AF32FF26943C7CA8268822878FA3374008DFA6E9AEAA83F6690C681969FD3C146C4B1436CD9D6089E257899AE39E433CB23B4235B840AC85A5CE8CF7F3D369CA68892188CA9CFDA31D021E6C18C624A84AEB5ADA6C97652FA5D8ED1F592D50DCD445025A2C0071D12A57A76A4E920AC3A7CF433C3D4937674C93CAC19DFC33B7EB9EBAE4DF50B0CE1DD99E23DBB64BB3719117E89260CFE130975F66FDCA0C933FB047A86573B51C9E5E90338C8C6B6A35A1550A0C065A79262AD3298A0C63CD057479BBD46682C9470BFE48E717FC60BF2143E069AB04E4BDCBBF23B33D110803DED460110E92CEADF530B1CF6D742517B707CE17554B54BFF6F15C7ECF0254ACE1DFE96F70193999FF85DEFDD5365F4600938496A122CEA3495A66FE9D9E64CE5D0B6B8274BA491173E700D1EFF5FE1089CA2B7361B034B01AE587A3E7509A3C671A41BAE9761AEA53245BB2CE075AD3394416D284E02D838F780254C7D8F9B16E5B1382E568CC201D771E4F4B40DD136DE2ACECFFC0BE95415E280553B12F7331771E2998D7F05B51DD8151A480C2799B05FA59AA0BF49B1C328F5679A0A64707CBDE5911B9CED9B4EC11DE62D691A4B90DFF05C3660E'
};

var options = {
    url: 'https://handla.api.ica.se/api/user/stores/', //Vanliga affärer 
    headers: headers
};

function callback1(error, response, body) {
    if (!error && response.statusCode == 200) {
        console.log(body);
        let data = JSON.stringify(body);
        fs.writeFileSync('./stores.json',data);
        
    }
}

request(options, callback1);

request(options, callback);
var request = require('request');

var headers = {
    'AuthenticationTicket': '5302F76842AA59F999EE6024856E207D077A98508EDEBE8F09BB51C1D8233A4FD5C49F8017100CA9CCC0F2EB3B10E14219F05C4FFA20CE473AD8FC428C1A4FE3DE29E435B9C11C81321CDDE1AF32FF26943C7CA8268822878FA3374008DFA6E9AEAA83F6690C681969FD3C146C4B1436CD9D6089E257899AE39E433CB23B4235B840AC85A5CE8CF7F3D369CA68892188CA9CFDA31D021E6C18C624A84AEB5ADA6C97652FA5D8ED1F592D50DCD445025A2C0071D12A57A76A4E920AC3A7CF433C3D4937674C93CAC19DFC33B7EB9EBAE4DF50B0CE1DD99E23DBB64BB3719117E89260CFE130975F66FDCA0C933FB047A86573B51C9E5E90338C8C6B6A35A1550A0C065A79262AD3298A0C63CD057479BBD46682C9470BFE48E717FC60BF2143E069AB04E4BDCBBF23B33D110803DED460110E92CEADF530B1CF6D742517B707CE17554B54BFF6F15C7ECF0254ACE1DFE96F70193999FF85DEFDD5365F4600938496A122CEA3495A66FE9D9E64CE5D0B6B8274BA491173E700D1EFF5FE1089CA2B7361B034B01AE587A3E7509A3C671A41BAE9761AEA53245BB2CE075AD3394416D284E02D838F780254C7D8F9B16E5B1382E568CC201D771E4F4B40DD136DE2ACECFFC0BE95415E280553B12F7331771E2998D7F05B51DD8151A480C2799B05FA59AA0BF49B1C328F5679A0A64707CBDE5911B9CED9B4EC11DE62D691A4B90DFF05C3660E'
};

var options = {
    url: 'https://handla.api.ica.se/api/user/minbonustransaction', // Bonusgrundade inköp 
    headers: headers
};

function callback2(error, response, body) {
    if (!error && response.statusCode == 200) {
        console.log(body);
        let data = JSON.stringify(body);
        fs.writeFileSync('./bonus.json',data);
    }
}

request(options, callback2);


var request = require('request');

var headers = {
    'AuthenticationTicket': '5302F76842AA59F999EE6024856E207D077A98508EDEBE8F09BB51C1D8233A4FD5C49F8017100CA9CCC0F2EB3B10E14219F05C4FFA20CE473AD8FC428C1A4FE3DE29E435B9C11C81321CDDE1AF32FF26943C7CA8268822878FA3374008DFA6E9AEAA83F6690C681969FD3C146C4B1436CD9D6089E257899AE39E433CB23B4235B840AC85A5CE8CF7F3D369CA68892188CA9CFDA31D021E6C18C624A84AEB5ADA6C97652FA5D8ED1F592D50DCD445025A2C0071D12A57A76A4E920AC3A7CF433C3D4937674C93CAC19DFC33B7EB9EBAE4DF50B0CE1DD99E23DBB64BB3719117E89260CFE130975F66FDCA0C933FB047A86573B51C9E5E90338C8C6B6A35A1550A0C065A79262AD3298A0C63CD057479BBD46682C9470BFE48E717FC60BF2143E069AB04E4BDCBBF23B33D110803DED460110E92CEADF530B1CF6D742517B707CE17554B54BFF6F15C7ECF0254ACE1DFE96F70193999FF85DEFDD5365F4600938496A122CEA3495A66FE9D9E64CE5D0B6B8274BA491173E700D1EFF5FE1089CA2B7361B034B01AE587A3E7509A3C671A41BAE9761AEA53245BB2CE075AD3394416D284E02D838F780254C7D8F9B16E5B1382E568CC201D771E4F4B40DD136DE2ACECFFC0BE95415E280553B12F7331771E2998D7F05B51DD8151A480C2799B05FA59AA0BF49B1C328F5679A0A64707CBDE5911B9CED9B4EC11DE62D691A4B90DFF05C3660E'
};

var options = {
    url: 'https://handla.api.ica.se/api/user/offlineshoppinglists',  //Hämtar inköpslistor
    headers: headers
};

function callback4(error, response, body) {
    if (!error && response.statusCode == 200) {
        console.log(body);
        let data = JSON.stringify(body);
        fs.writeFileSync('./shoppinglist.json',data);
    }
}

request(options, callback4);

var request = require('request');

var headers = {
    'AuthenticationTicket': '5302F76842AA59F999EE6024856E207D077A98508EDEBE8F09BB51C1D8233A4FD5C49F8017100CA9CCC0F2EB3B10E14219F05C4FFA20CE473AD8FC428C1A4FE3DE29E435B9C11C81321CDDE1AF32FF26943C7CA8268822878FA3374008DFA6E9AEAA83F6690C681969FD3C146C4B1436CD9D6089E257899AE39E433CB23B4235B840AC85A5CE8CF7F3D369CA68892188CA9CFDA31D021E6C18C624A84AEB5ADA6C97652FA5D8ED1F592D50DCD445025A2C0071D12A57A76A4E920AC3A7CF433C3D4937674C93CAC19DFC33B7EB9EBAE4DF50B0CE1DD99E23DBB64BB3719117E89260CFE130975F66FDCA0C933FB047A86573B51C9E5E90338C8C6B6A35A1550A0C065A79262AD3298A0C63CD057479BBD46682C9470BFE48E717FC60BF2143E069AB04E4BDCBBF23B33D110803DED460110E92CEADF530B1CF6D742517B707CE17554B54BFF6F15C7ECF0254ACE1DFE96F70193999FF85DEFDD5365F4600938496A122CEA3495A66FE9D9E64CE5D0B6B8274BA491173E700D1EFF5FE1089CA2B7361B034B01AE587A3E7509A3C671A41BAE9761AEA53245BB2CE075AD3394416D284E02D838F780254C7D8F9B16E5B1382E568CC201D771E4F4B40DD136DE2ACECFFC0BE95415E280553B12F7331771E2998D7F05B51DD8151A480C2799B05FA59AA0BF49B1C328F5679A0A64707CBDE5911B9CED9B4EC11DE62D691A4B90DFF05C3660E'
};

var options = {
    url: 'https://handla.api.ica.se/api/user/recipes',
    headers: headers
};

function callback5(error, response, body) {
    if (!error && response.statusCode == 200) {
        console.log(body);
        let data = JSON.stringify(body);
        fs.writeFileSync('./recept.json',data);
    }
}

request(options, callback5);


var request = require('request');

var headers = {
    'AuthenticationTicket': '5302F76842AA59F999EE6024856E207D077A98508EDEBE8F09BB51C1D8233A4FD5C49F8017100CA9CCC0F2EB3B10E14219F05C4FFA20CE473AD8FC428C1A4FE3DE29E435B9C11C81321CDDE1AF32FF26943C7CA8268822878FA3374008DFA6E9AEAA83F6690C681969FD3C146C4B1436CD9D6089E257899AE39E433CB23B4235B840AC85A5CE8CF7F3D369CA68892188CA9CFDA31D021E6C18C624A84AEB5ADA6C97652FA5D8ED1F592D50DCD445025A2C0071D12A57A76A4E920AC3A7CF433C3D4937674C93CAC19DFC33B7EB9EBAE4DF50B0CE1DD99E23DBB64BB3719117E89260CFE130975F66FDCA0C933FB047A86573B51C9E5E90338C8C6B6A35A1550A0C065A79262AD3298A0C63CD057479BBD46682C9470BFE48E717FC60BF2143E069AB04E4BDCBBF23B33D110803DED460110E92CEADF530B1CF6D742517B707CE17554B54BFF6F15C7ECF0254ACE1DFE96F70193999FF85DEFDD5365F4600938496A122CEA3495A66FE9D9E64CE5D0B6B8274BA491173E700D1EFF5FE1089CA2B7361B034B01AE587A3E7509A3C671A41BAE9761AEA53245BB2CE075AD3394416D284E02D838F780254C7D8F9B16E5B1382E568CC201D771E4F4B40DD136DE2ACECFFC0BE95415E280553B12F7331771E2998D7F05B51DD8151A480C2799B05FA59AA0BF49B1C328F5679A0A64707CBDE5911B9CED9B4EC11DE62D691A4B90DFF05C3660E'
};

var options = {
    url: 'https://handla.api.ica.se/api/user/commonarticles', //Ofta köpta varor
    headers: headers
};

function callback6(error, response, body) {
    if (!error && response.statusCode == 200) {
        console.log(body);
        let data = JSON.stringify(body);
        fs.writeFileSync('./common.json',data);
    }
}

request(options, callback6);

